---
// import { gsap } from "gsap";

// gsap.to(".hero-ball", {x:200});

// interface Props {
// 	title: string;
// 	body: string;
// 	href: string;
// }

// const { href, title, body } = Astro.props;
---

<div id="hero-ball">
  <span id="ball-rotation">
    <span id="sliver"></span>
  </span>
</div>
<!-- <span id="rotation-ball"></span> -->

<script>
  import { gsap } from "gsap";
  import { CustomEase } from "gsap/CustomEase";

  //   const canvas = document.getElementById("hero-ball") as HTMLCanvasElement;
  //   if (canvas.getContext) {
  //     const ctx = canvas.getContext("2d");
  //   }

  // let ctx = document.getElementById("hero-ball")!.getContext("2d");

  // var circ = new Circle(100, 100, 20);

  //Define the circle
  // function Circle(this: Function, x: number, y: number, r: number) {
  //     "use strict";
  //     this.x = (x === null) ? 0 : x;
  //     this.y = (y === null) ? 0 : y;
  //     this.r = (r === null) ? 0 : r;

  //     this.fill = function(ctx) {
  //         ctx.beginPath();
  //         ctx.arc(this.x, this.y, this.r, 0, Math.PI*2);
  //         ctx.fill();
  //     }
  // }

  //Draw the circle as object
  // circ.fill(ctx);

  let tl = gsap.timeline({});
  tl.from("#hero-ball", {
    y: "50vh",
    height: "50px",
    width: "130vw",
    borderRadius: ".5em",
    duration: 2.5,
    ease: CustomEase.create(
      "custom",
      "M0,0 C0,0 0.207,0.021 0.226,0.113 0.241,0.186 0.253,0.645 0.268,0.753 0.274,0.806 0.283,0.967 0.296,1.063 0.301,1.095 0.323,1.182 0.323,1.182 0.323,1.182 0.4,1.2 0.4,1.2 0.4,1.2 0.435,1.14 0.451,1.07 0.462,1.018 0.459,1.034 0.471,0.939 0.492,0.779 0.472,0.879 0.5,0.8 0.54,0.75 0.595,0.822 0.595,0.822 0.595,0.898 0.626,0.922 0.636,0.957 0.647,0.999 0.715,1.034 0.715,1.034 0.715,1.034 0.757,1.006 0.784,1.003 0.864,0.994 1,1 1,1 "
    ),
  });
</script>

<style>
  #hero-ball {
    width: 50vh;
    height: 50vh;
    border-radius: 75%;
    background-color: white;
    content: "";
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #ball-rotation {
    position: absolute;
    top: 0.5%;
    left: 0.5%;
    /* left: 120%; */
    width: 99%;
    height: 99%;
    border-radius: 50%;
    background-color: blue;
    content: "";
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #sliver {
    height: 100%;
    width: 100%;
    position: relative;
    /* content: ""; */
    background-color: red;
    overflow: hidden;
    transform-origin: 0% -25%;
    transform: skew(50deg);
    opacity: 0.4;

    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    /* border-radius: 50%; */
    /* border: 2em solid black; */
  }

  #sliver::before {
    clip-path: ellipse(90% 110% at 90% 100%);

    position: absolute;
    /* top: 0;
    left: 0;
    right: 0;
    bottom: 0; */
    height: 70%;
    width: 70%;
    content: "";
    border: 2em solid black;
    border-radius: 50%;
    transform-origin: 0% -37%;
    transform: skew(-50deg);
    /* background-color: chartreuse; */
    /* border: 5px solid yellow; */

    /* border-radius: 90% 90% 0 0;
    transform-origin: 50% 100%;
    transform: rotate(140deg); */
  }

  /* .moon {
    padding: 12%;
    transform: rotate(290deg);
  } */
</style>
